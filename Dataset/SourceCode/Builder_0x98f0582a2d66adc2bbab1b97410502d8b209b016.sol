// SPDX-License-Identifier: MIT

pragma solidity 0.8.21;



// This is an NFT for Bird Builders NFT https://www.birdbuilders.io



//&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,...,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,/%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%,,,,,,,%%/  %%,,,,,,,#%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%#..%%,,,%%  ,((  %%%,,%%.  %%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%..%%%**.......   %%..(%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%*******.......     ..(%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%**(((((((((((((((((..(%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,...,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%((%%%%%%%%%%%%%%%%%((#%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//,,   ,,,,,,,,,,,,

//,,,,,,,,,,,,,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%%%(((((((((((((((((%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,..,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,///##,,,,,,,,,,,,,,,,,,,%%%%%,,,,,,,,,,,,,,,,,,,,,%%%%%%%.................%%%%%,,,,,,,,,,,,,,,,,,,,,%%%%%,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,///##,,,,,,,,,,,,,,,,,,,%%   %%%%%%%%%,,,,,,,/%%%%**,..............  ..........%%%%(,,,,,,,%%%%%%%%%   %%,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%         %%%%%%%(*********..............     .......**/%%%%%%%         %%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,   ,,//*,,,,,,,,,,,,,,,,,,,,,%%                        ,,............       .....*****            %%,,,,,,,,,,,,,,,//,,...,,,,,,,,,,,,

//,,,,,,,,,,,,,,..,,,,,,,,,,,,,,,,,,,,,,,,%%%%%                     ,,,............    ...,,          %%%%%%%,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%*****                   ,,.............,,         %%%,,,,,,,,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,*****//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%***       ............     ............  ............%%,,,,,,,,,,,,,,,,,,,,,,//*****,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%       .,,              ,,.  ,,...,,,,               %%,,,,,,,   ,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%                        **.    ,,,  **               %%,,,,,  ,,,  ,,,,,,,,,,//##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%     **#@@@@@@@@@@@@@@@@@@#**     **@@@@@@@@@@@@@@@@@@&,,,,,,,   ,,,,,,,,,,,,//##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%**       *%%....,@@@@.....%%/  %%%%%%%%%,....@@@@@.....%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,   ,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,%%**       *%%              %%%%%**...  %%,              %%,,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,%%**          %%          %%  *%%**.....%%%%%         %%%%%,,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,,,,,,,,,%%  ***         %%%%%%%%%%    .**%%.....%%,  %%%%%%%%%   %%,,,,,,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,,,,,,,,,%%  ***                     ..   %%...%%..               %%,,,,,,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%  *****                 ..     %%***%%  .....          %%,,,,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,   ,,,,,%%  **********       **...         %%%         **,    ***%%,,,,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,///##,,,,,,,,,,,,,,,,,,,  ,,,  ,,,%%  *******,,,*********                        ..,****   %%,,,,,,,,,,,,,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,///##,,,,,,,,,,,,,,,,,,,,,   ,,%%#  *********,,,,,,,,....***                   **...,,**   %%,,,,,,,,,,,,,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%#  *********.  ,,,,,....***                   **.....,,***  %%*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,//*,,,,,,,,,,,,,,,,,,,,,,,%%#  ************,,,,,.......**              ,**..   ..,,***  %%*,,,,,,,,,,,,,,,,,,,//,,   ,,,,,,,,,,,,

//,,,,,,,,,...,,//*,,,,,,,,,,,,,,,,,,,,,,,%%#  *********.  ,,,,,.........**,           ,**..   ..,,***  %%*,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,,,,,,%%#  *********.  ,,,,,...........,**       **...       ,,***  %%*,,,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,,,,,,%%#  *********.  ,,,,,..............**   **.....       ,,***  %%*,,,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,,,,,,,,,,%%#  *********.  ,,,,,................***.... ..       ,,***  %%*,,,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,%%   ***********,..,,,,,.......................        ..,,***  %%(,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,%%   *********//*..,,,,,.......................        ..,,***  %%%%%,,,,,,,,,,,,,,,,,,,##,,,.......,,,,,

//,,,,,,,,,,,,**,,,,,,,,,,,,,,,,,,,,,,,,%%   **..,****%%(..,,,,,.......................        ..,,***  %%%%%,,,,,,,,,,,,,,,,,,,**,,,,,  .,,,,,,,

//,,,,,,,,,   ,,//*,,,,,,,,,,,,,,,,,,/%%  ***....,****%%(..,,,,,..........................  .....,,***  %%%%%,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,..,,,,,,,,,,,,,,,,,,,/%%  ***....,****%%(..,,,,,..........................  .....,,***  %%%%%,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,/%%  ***.......**%%(..,,,,,.................................,,***  %%%%%,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,/%%  ***.......**%%(..,,,,,.................................,,***  %%%%%,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,/%%  ***.......**%%(..,,,,,....................... .........,,***  %%%%%,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,/%%  ..........**%%(..,,,,,.................................,,***  %%%%%,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,///##  .,,,,,,,,,,,,,,,,,,/%%  ..........**%%(..,,,,,.................................,,***  %%%%%,,,,,,,,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,///##,,,,,,,,,,,,,,,,,,,,,/%%  .......,**%%**,..,,,,,..........................  .....,,***  %%%%%,,,,,,,,,,,,,,,,,,,##///,,,,,,,,,,,,

//,,,,,,,,,   ,,  .,,,,,,,,,,,,,,,,,,/%%  .......,**%%##(,,,,,,,.......................        ..,,*****%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,   ,,//*,,,,,,,,,,,,,,,,,,/%%  .......,**%%#######///,,,,...,,,,,,,,,,,,..,,,,,,,,,,,,  ,,,,,%%%%%,,,,,,,,,,,,,,,,,//,,   ,,,,,,,,,,,,

//,,,,,,,,,,,,,,..,,,,,,,,,,,,,,,,,,,/%%  .......,**%%(((###############################################%%%%%,,,,,,,,,,,,,,,,,..,,,,,,,,,,,,,,,,,

//,,,,,,,,,///,,//*,,,,,,,,,,,,,,,,,,/%%  .....**#%%*****////###////,..///////..///////*..///////,,,,,&&%%%%%,,,,,,,,,,,,,,,,,//,,///,,,,,,,,,,,,

//,,,,,,,,,///,,##*,,,,,,,,,,,,,,,,,,/%%     ..**#%%****,,,//###,,..   ..,,,,,............,,,,,,,..,,,&&%%%%%,,,,,,,,,,,,,,,,*##,,///,,,,,,,,,,,,

//,,,,,,,,,,,,//,,,,,,,,,,,,,,,,,,,,,,,,%%   ..**#%%*******//###,,,,...,,,,,,,..,,,..,,,..,,,,,,,,,,,,&&%%%%%,,,,,,,,,,,,,,,,,,,//,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##,,,,,,,,,,,,,,,,,,,,,,,,%%   ..**#%%*******((###//,,,,,,,,,,,,,,.......,,,,,   ,,,,###&&%%(,,,,,,,,,,,,,,,,,,,,,##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,,,,,,,,,,,,,%%%  **#%%%%*******(((##//*,,,,,,,..,,,,,,,,,,,,,,,,,,,##%&&%%%%(,,,,,,,,,,,,,,,,,,,//##,,,,,,,,,,,,,,,

//,,,,,,,,,,,,##//*,,,,,,,,,,,...,,,,,,,,,%%%  **#%%%%%%%%%*****((###############################&&%%%%%%%(,,,,,,,,,,,,,,,,,,,//##,,,,,,,,,,,,...

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,(##%%(((%%%%%%%%%(((((((((((((((((&&%%#//##%%%%%,,#%%##,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,..,,,,,***,,**,,,,,,,,..,,,,,,,,,,,,,,,,,..**/((**(((((//(((((%%%%%%%%%%%%%%%%%%%*****##(((///////,,,,,..,,,,,,,,,,....,,,,,  ,,,,,,,,,,,,,,,

//..   ..,,///,,,,,,,..,,,,,((///**((/,,,,,,,,,//***((//(((*****************..,,***##**/(((((((**,,,,,,,  .,,/////((/////**///**..***,,,,.  ,,...

//,,...,,//###,,,,///,,,,*//##,,,,,##(///////////**,////(%%,*/////##(////////////////,*////////,*//*,,///////,,,,,,,,,.  //////////////##(///////

//,,/////#####////*,,//,,*##,,   ,,,,,,,,,,,,,,%%(((%%%%%%%((%%%%%%%%%%%%%%%%%%%%%%%%((#%%%%,,,((,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

////,,,,,,,,,,,,,,,,,/////,,,,,,,,,,,,,,,,,,,,,%%&&&%%%%%%%&&%%%%%%%%%%%%%%%%%%%%%%%%&&%%%%%,,*&&,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,/////,,,,,,,,,,,,,,,,,,,,,,,,,,#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,///,,,,,,,,,,,,,,,,,,,,,,,,,,,,#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%%%%%%%%,,,,,,,,,*%%%%%%%%%%%(,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%%%%,,,,,,,,,,,,,,%%%%%%%%%(,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%%%%%%,,,,,,,,,,,,,,%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,*%%%%%%%,,,,,,,,,,,,,,%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%,,,,,,,,,*%%%%%%%,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,%%%%%%%*,,,,%%%%%%%*,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,

//,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,





import "./ERC721A.sol";

import "./Ownable.sol";

import "./ReentrancyGuard.sol";

import "./ERC2981.sol";

import "./PaymentSplitter.sol";

import "./MerkleProof.sol";

import "./EIP712.sol";

import "./ECDSA.sol";



contract Builder is

    ERC721A,

    ReentrancyGuard,

    PaymentSplitter,

    ERC2981,

    EIP712,

    Ownable(msg.sender)

{

    

    bool public paused = true;

    bool public freezeURI = false;

    string private constant _name = "Bird Builders";

    string private constant _symbol = "BUILD";

    string private constant _version = "1";

    string public baseURI = "https://mint-json-bucket.s3.amazonaws.com/";

    uint16 public maxSupply = 10000;

    bytes32 private whitelistMerkleRoot;

    uint256 public cost = 0.0185 ether;

    mapping(address => uint256) public freeMints;

    address private whitelistSigningKey = 0x50CdE02cB08fE76Ecc12A96b0044E275347c4B60;



    address[] private firstPayees = [0x23f0dc26ba952FB9e4ac5A55976c7EaEf6491Cc2, 0x9A7dE61E3025ED3A9F86ab5D4413a5D6F7F382f8, 0x405a1f8dbc824f6D3b57EfAC49263441c47E7AF4, 0x5b20f6C42A42F5a108600D4EE901Ea55dDbA594a];

    uint256[] private firstShares = [100, 898, 1, 1];



    address public admin = firstPayees[1];

 

    struct EIP712Domain {

        string name;

        string version;

        uint256 chainId;

        address verifyingContract;

        address userAddress;

    }



    constructor() ERC721A(_name, _symbol) PaymentSplitter(firstPayees, firstShares) EIP712(_name, _version) payable {

        _setDefaultRoyalty(address(this), 500);

    }



    // @dev public minting

	function mint(bytes calldata signature, bytes32[] calldata merkleProof, uint256 freeQuantity) public payable nonReentrant {



        require(checkSig(signature), "Builder: mint from website only");

        require(totalSupply() + 1 <= maxSupply, "Builder: Can't mint more than max supply");



        if (msg.sender != owner() || msg.sender == admin) {

            require(!paused, "Builder: minting is not open yet");

        }



        if (isValidMerkleProof(msg.sender, merkleProof, freeQuantity) && freeMints[msg.sender] < freeQuantity) {

            freeMints[msg.sender] += 1;



        } else {

            require(msg.value >= cost, "Builder: You must pay for the nft");

        }



        _safeMint(msg.sender, 1);

	}



    // @dev using signatures so that minting is done from the website to force users to choose their traits 

    function checkSig(bytes memory signature) public view returns (bool) {

        bytes32 domain = _domainSeparatorV4(); // Call the EIP712 function to get the domain separator



        bytes32 structHash = keccak256(abi.encode(

            keccak256("Minter(address wallet,uint256 balance)"),

            msg.sender,

            balanceOf(msg.sender)

        ));



        bytes32 digest = keccak256(abi.encodePacked(

            "\x19\x01",

            domain,

            structHash

        ));



        address signer = ECDSA.recover(digest, signature);

        return (signer == whitelistSigningKey);

    }



    function setWhitelistSigningKey(address newSigningKey) public onlyAdmin {

        whitelistSigningKey = newSigningKey;

    }



    // @dev If they not on the list, then charge em double.

    function isValidMerkleProof(address to, bytes32[] calldata merkleProof, uint256 quantity) public view returns (bool) {

        bytes32 leaf = keccak256(abi.encodePacked(to, quantity));

        return MerkleProof.verify(merkleProof, whitelistMerkleRoot, leaf);

    }



    // @dev set presale root

    function setWhitelistMerkleRoot(bytes32 merkleRoot) external onlyAdmin {

        require(merkleRoot != bytes32(0), "Builder: merkleRoot is zero");

        whitelistMerkleRoot = merkleRoot;

    }



    // @dev set cost of minting

	function setCost(uint256 _newCost) external onlyAdmin {

    	cost = _newCost;

	}

			

    // @dev pause minting

	function setPaused(bool _status) external onlyAdmin {

    	paused = _status;

	}



    // set the second owner

    function setAdmin(address newAdmin) external onlyOwner {

        admin = newAdmin;

    }



    // @dev Set the base url path to the json metadata used by opensea

    function setBaseURI(string memory _baseTokenURI) external onlyAdmin {

        require(freezeURI == false, "Builder: uri is frozen");

        baseURI = _baseTokenURI;

    }



    // @dev freeze the URI

    function setFreezeURI() external onlyAdmin {

        freezeURI = true;

    }



    // @dev show the baseuri

    function _baseURI() internal view virtual override returns (string memory) {

        return baseURI;

    }



    //reduce max supply if needed

    function reduceMaxSupply(uint16 newMax) external onlyAdmin {

        require(newMax < maxSupply, "Builder: New maximum must be less than existing maximum");

        require(newMax >= totalSupply(), "Builder: New maximum can't be less than minted count");

        maxSupply = newMax;

    }



    //change payment splitter share count

    function changeShares(address account, uint256 shares_) external onlyAdmin {

        _changeShares(account, shares_);

    }



    //to support royalties

    function supportsInterface(bytes4 interfaceId) public view virtual override(ERC721A, ERC2981) returns (bool) {

        return super.supportsInterface(interfaceId);

    }



    //set royalties

    function setDefaultRoyalty(address receiver, uint96 feeNumerator) external onlyAdmin {

        _setDefaultRoyalty(receiver, feeNumerator);

    }



    //allow second owner

    modifier onlyAdmin() {

        require(msg.sender == owner() || msg.sender == admin, "Builder: only for owner");

        _;

    }

}